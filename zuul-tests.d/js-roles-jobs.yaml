- job:
    name: zuul-jobs-test-ensure-nodejs
    description: Test the ensure-nodejs role
    files:
      - roles/ensure-nodejs/.*
      - roles/ensure-package-repositories/.*
    run: test-playbooks/simple-role-test.yaml
    vars:
      role_name: ensure-nodejs

- job:
    name: zuul-jobs-test-ensure-yarn
    description: Test the ensure-yarn role
    files:
      - roles/ensure-yarn/.*
      - roles/ensure-nodejs/.*
      - roles/ensure-package-repositories/.*
    run: test-playbooks/simple-role-test.yaml
    vars:
      role_name: ensure-yarn

- job:
    name: zuul-jobs-test-fetch-javascript-tarball
    description: Test the fetch-javascript-tarball
    files:
      - roles/fetch-javascript-tarball/.*
      - roles/fetch-output/.*
    run: test-playbooks/javascripts/fetch-javascript-tarball.yaml
    vars:
      zuul_use_fetch_output: true

- job:
    name: zuul-jobs-test-fetch-javascript-tarball-synchronize
    description: Test the fetch-javascript-tarball without fetch-output
    files:
      - roles/fetch-javascript-tarball/.*
    run: test-playbooks/javascripts/fetch-javascript-tarball.yaml
    vars:
      zuul_use_fetch_output: false

# -* AUTOGENERATED *-
#  The following project section is autogenerated by
#    tox -e update-test-platforms
#  Please re-run to generate new job lists

- project:
    check:
      jobs: &id001
        - zuul-jobs-test-ensure-nodejs
        - zuul-jobs-test-ensure-yarn
        - zuul-jobs-test-fetch-javascript-tarball
        - zuul-jobs-test-fetch-javascript-tarball-synchronize
    gate:
      jobs: *id001
