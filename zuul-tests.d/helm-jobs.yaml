- job:
    name: zuul-jobs-test-helm-lint
    description: Test the helm-lint job
    parent: helm-lint
    tags: all-platforms
    files:
      - playbooks/helm-lint/.*
      - roles/helm-lint/.*
      - roles/ensure-helm/.*
    pre-run: test-playbooks/helm-lint/create-helm-chart.yaml
    vars:
      helm_version: 3.10.1
      helm_charts: [test-chart]

- job:
    name: zuul-jobs-test-helm-lint-centos-7
    description: Test the helm-lint job on centos-7
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: centos-7
          label: centos-7

- job:
    name: zuul-jobs-test-helm-lint-centos-8-stream
    description: Test the helm-lint job on centos-8-stream
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: centos-8-stream
          label: centos-8-stream

- job:
    name: zuul-jobs-test-helm-lint-centos-9-stream
    description: Test the helm-lint job on centos-9-stream
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: centos-9-stream
          label: centos-9-stream

- job:
    name: zuul-jobs-test-helm-lint-debian-bullseye
    description: Test the helm-lint job on debian-bullseye
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: debian-bullseye
          label: debian-bullseye

- job:
    name: zuul-jobs-test-helm-lint-debian-buster
    description: Test the helm-lint job on debian-buster
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: debian-buster
          label: debian-buster

- job:
    name: zuul-jobs-test-helm-lint-fedora-36
    description: Test the helm-lint job on fedora-36
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: fedora-36
          label: fedora-36

- job:
    name: zuul-jobs-test-helm-lint-opensuse-15
    description: Test the helm-lint job on opensuse-15
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: opensuse-15
          label: opensuse-15

- job:
    name: zuul-jobs-test-helm-lint-ubuntu-bionic
    description: Test the helm-lint job on ubuntu-bionic
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: ubuntu-bionic
          label: ubuntu-bionic

- job:
    name: zuul-jobs-test-helm-lint-ubuntu-focal
    description: Test the helm-lint job on ubuntu-focal
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: ubuntu-focal
          label: ubuntu-focal

- job:
    name: zuul-jobs-test-helm-lint-ubuntu-jammy
    description: Test the helm-lint job on ubuntu-jammy
    parent: zuul-jobs-test-helm-lint
    tags: auto-generated
    nodeset:
      nodes:
        - name: ubuntu-jammy
          label: ubuntu-jammy

- project:
    check:
      jobs: &id001
        - zuul-jobs-test-helm-lint-centos-7
        - zuul-jobs-test-helm-lint-centos-8-stream
        - zuul-jobs-test-helm-lint-centos-9-stream
        - zuul-jobs-test-helm-lint-debian-bullseye
        - zuul-jobs-test-helm-lint-debian-buster
        - zuul-jobs-test-helm-lint-fedora-36
        - zuul-jobs-test-helm-lint-opensuse-15
        - zuul-jobs-test-helm-lint-ubuntu-bionic
        - zuul-jobs-test-helm-lint-ubuntu-focal
        - zuul-jobs-test-helm-lint-ubuntu-jammy
    gate:
      jobs: *id001
    periodic-weekly:
      jobs: *id001
